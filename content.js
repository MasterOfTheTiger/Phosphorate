document.body.insertAdjacentHTML("beforeend","<style>.switch{position:relative;display:inline-block;width:30px;height:17px;margin-bottom:0 !important;vertical-align:middle}.switch input{display:none}.slider{border-radius:17px;position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slider:before{border-radius:50%;position:absolute;content:\"\";height:13px;width:13px;left:2px;bottom:2px;background-color:white;-webkit-transition:.4s;transition:.4s}input:checked + .slider{background-color:#2196F3}input:focus + .slider{box-shadow:0 0 1px #2196F3}input:checked + .slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(13px);transform:translateX(13px)}#phosphorus{display:inline-block;vertical-align:middle;border:1px solid #ccc;border-radius:5px;padding:0 5px;background-color:#eee}#pframe{border-width:0}</style>");document.getElementById("editor-stats").insertAdjacentHTML("beforebegin","<div id=\"phosphorus\"><span id=\"labelspan\" style=\"vertical-align: middle;\"></span><label class=\"switch\"><input type=\"checkbox\" onclick=\"if(this.checked){scratch.style.display='none';pframe.style.display='';} else {scratch.style.display='';pframe.style.display='none';pframe.outerHTML=pframe.outerHTML;}\"><div class=\"slider\"></div></label></div> ");document.getElementById("scratch").insertAdjacentHTML("beforebegin",'<iframe id="pframe" height="100%" width="100%" src="" style="display:none;"></iframe>');chrome.storage.sync.get({'urlPath':'https://phosphorus.github.io/embed.html?id=%s','url':'Phosphorus'},function(items){document.getElementById('labelspan').innerHTML=items.url+':&nbsp;';document.getElementById('pframe').setAttribute('src',items.urlPath.replace('%s',location.pathname.split("/")[2]));});
